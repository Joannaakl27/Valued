<div class="container">
    <div class="row d-flex justify-content-center mt-5">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
          <div class="row">
            <h3>Search for a Product</h3>
          </div>
            <div class="row">
              <%= form_tag products_path, method: :get, class:"d-flex" do %>
                <div class="mr-1">
                  <%= text_field_tag :query,
                      params[:query],
                      class: "form-control",
                      placeholder: "Search for a product"
                  %>
                </div>
                <div class ="ml-auto">
                  <%= submit_tag "Search", class: "btn btn-primary font-weight-light" %>
                </div>
              <% end %>
            </div>

          <div class="row">
            <% @products.each do |product| %>
              <div class="card" style="width: 500px;">
                <div class="row g-0">
                    <div class="col-sm-5">
                      <img src= <%= product["image_front_url"] %> class="card-img-top h-30" width="100" height="100" alt="">
                    </div>
                    <div class="col-sm-7">
                        <div class="card-body">
                            <h5 class="card-title"><%= product["product_name"] %></h5>
                            <h6 class="card-subtitle mb-2 text-muted"><%= product["brands"] %></h6>
                            <p class="card-text"> <%= product["categories_hierarchy"].first[3..-1] %></p>
                            <%= link_to "More Info", "products/#{product["_id"]}" %>
                        </div>
                    </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
    </div>
</div>
